# tk-mybatis-custom

## 项目环境
  springboot 2.1.5 + mysql
  orm：tk-mybatis插件封装mybatis

## 项目内容
  此项目来源实际开发中的问题：在不同的环境中同样的数据表，部分字段针对特殊指定环境存在，而其它环境下是不存在的。  
  当时项目使用tk-mybatis插件读取mysql数据库，由于tk-mybatis的封装，默认读取实体中的所有字段；对于有该特殊字段
  的数据表而言读取是没有问题的，但是在其它环境下该表没有此特殊字段导致tk-mybatis默认生成的sql读取该表发生错误。  
  故在自定义的配置项中根据指定的注解获取该字段是否归属于特殊环境，进一步对比此时激活的环境是否于该字段应该激活的
  环境一致，如果不一致则该字段不应该被tk-mybatis初始化。

## 测试
  项目初始化的数据库脚本放置db目录下(记得修改yml配置文件中的数据库链接为自己的数据库链接)；  
  可观察sql日志中查询输出的sql语句是否有特殊字段来确认配置是否生效；  
  可通过(切换配置文件中的激活profile)和(屏蔽或打开User实体中字段testInfo的注解@DevActive)来观察引起本项目出现的原因；

## 关于
  git邮箱使用的微软邮箱，基本不使用：wulianonline@outlook.com  
  日常用邮箱：1370793133@qq.com 
  